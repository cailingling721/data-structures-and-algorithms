---
title: 数据结构和算法-堆栈实战之有效地括号
date: 2019-08-08 10:33:30
tags: 数据结构和算法 堆栈实战 有效的括号 leetcode-20
---

## 堆栈实战题目1 - 有效的括号

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。有效字符串需满足：左括号必须用相同类型的右括号闭合。左括号必须以正确的顺序闭合。注意空字符串可被认为是有效字符串。

输入: "()" 输出: true
输入: "()[]{}" 输出: true
输入: "(]" 输出: false
输入: "([)]" 输出: false
输入: "{[]}" 输出: true

<!-- more -->

利用堆栈，如果是左括号就入栈，如果是右括号，就出栈。右括号不能独立存在的，它是需要和左括号进行匹配的，然后就去查看堆栈是否为空以及堆栈的栈顶有没有和这个右括号匹配的元素。如果匹配，栈顶元素弹出，如果不匹配，直接返回False。如果最终一一匹配的话，最后堆栈会是空的，返回True。

每一个元素的入栈和出栈，那么时间复杂度就是O(1)\*n，即O(n)。空间复杂度，最坏的情况就是所有元素压入栈，空间复杂度就是O(n)。


``` python
class Solution(object):
	def isValid(self, s):
		"""
		:type s: str
		:rtype: bool
		"""
		valid = {"}":"{", ")":"(", "]":"["}
		stack = []
		for i in s:
			# 如果不是右括号，就加入stack中
			if i not in valid:
				stack.append(i)
			# 如果是右括号，同时堆栈为空，或者不匹配，就返回错
			elif not stack or valid[i] != stack.pop():
				return False
		return not stack
```

总结：左括号总是入栈，右括号会与栈中最后面的元素进行匹配。如果栈为空，实际上是无法匹配的就直接返回False，如果无法匹配，也是返回False。




